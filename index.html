<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-KV6J4SJK');</script>
    <!-- End Google Tag Manager -->
    <style>
        table {
            width: 50%;
            border-collapse: collapse;
            margin: 20px auto;
            font-family: Arial, sans-serif;
        }

        th,
        td {
            border: 1px solid #000;
            text-align: center;
            padding: 8px;
            text-align: left;
            white-space: pre-wrap;
        }

        th {
            background-color: #f2f2f2;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KV6J4SJK" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <h1>Assessment1</h1>
    <table>
        <tr>
            <th>Query Parameter</th>
            <th>Query Value</th>
        </tr>
        <tr>
            <td>key1</td>
            <td id="key1"></td>
        </tr>
        <tr>
            <td>key2</td>
            <td id="key2"></td>
        </tr>
    </table>
    <br><br>
    <h1>Assessment2</h1>
    <table>
        <tr>
            <th>Tag Fired</th>
        </tr>
        <tr>
            <td id="tag1"></td>
        </tr>
    </table>
    <script>
        window.addEventListener("load", function () {
            const customeridValue = document.getElementById("key1").innerText;
            const customeremailValue = document.getElementById("key2").innerText;
            const scriptContent = `&lt;script type="text/javascript"&gt;(function(a,b,c,d,e,f,g){e['ire_o']=c;e[c]=e[c]||function(){(e[c].a=e[c].a||[]).push(arguments)};f=d.createElement(b);g=d.getElementsByTagName(b)[0];f.async=1;f.src=a;g.parentNode.insertBefore(f,g);})('https://utt.impactcdn.com/A2788006-de3d-4011-a57c-c4737e79de0365535.js','script','ire',document,window);<br><br>ire('identify', {customerid: '<b>${customeridValue}</b>', /*INSERT key1*/ customeremail: '<b>${customeremailValue}</b>' /*INSERT key2*/});&lt;/script&gt;`;

            document.getElementById("tag1").innerHTML = scriptContent;
        });
    </script>
</body>

</html>